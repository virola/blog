<!DOCTYPE HTML><html><head><meta charset="utf-8"><title>centos 7 虚拟机安装记录 | Virola&#39;s Blog</title><meta name="author" content="Virola"><meta name="description" content="Virola&#39;s Blog"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta property="og:title" content="centos 7 虚拟机安装记录"><meta property="og:site_name" content="Virola&#39;s Blog"><meta property="og:image" content=""><meta name="baidu-site-verification" content="e5EBCWO83G"><meta name="google-site-verification" content="P1Pa9bT3k2Wsn9uKE5in0gjGysZ4xBYGPYkCsxtkpyI"><link href="/favicon.ico" rel="icon"><link rel="alternate" href="/atom.xml" title="Virola&#39;s Blog" type="application/atom+xml"><link rel="stylesheet" href="/css/style.css" media="screen"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><meta name="generator" content="Hexo 5.4.2"></head><body><header id="header" class="inner"><div class="alignleft"><h1><a href="/">Virola&#39;s Blog</a></h1><h2><a href="/">For love &amp; freedom. 爱与自由。</a></h2></div><nav id="main-nav" class="alignright"><ul><li><a target="_blank" rel="noopener" href="http://www.virola-eko.com">Home</a></li><li><a href="/">Blog</a></li><li><a href="/archives">Archives</a></li><li><a href="/about-me">About Me</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div id="content" class="inner"><div id="main-col" class="alignleft"><div id="wrapper"><article class="post"><div class="post-content"><header><div class="icon"></div><time datetime="3/30/2015, 7:13:09 AM"><a href="/2015/centos-7-installation.html">2015-03-30</a></time><h1 class="title">centos 7 虚拟机安装记录</h1></header><div class="entry"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这几天也是蛋疼了，觉得机器上的windows系统太卡太慢，然后又十分想念mac上的命令行操作，一心想再弄个linux系统来写码练手。以前装过ubuntu虚拟机，印象中配置上似乎十分复杂，以至于后来一直不愿意再装一次，正好之前下载过centos 7.0的安装镜像，然后我的vps主机也是centos系统，觉得装同样的系统应该比较有亲切感。好在最近项目上比较轻松，马上放清明假的节奏大家都不太想排项目(&gt;_&lt;)，于是在各种利好的促使下，我又开始了一次我的折腾之旅。</p><h2 id="虚拟机安装"><a href="#虚拟机安装" class="headerlink" title="虚拟机安装"></a>虚拟机安装</h2><p>vmare player安装过程我就不细说了，基本傻瓜式，比较给力的是我选的iso镜像装好之后自动就是gnome图形界面，之前见到过安装完成之后只有命令行界面的情况，我这个估计镜像版本不太一样。</p><p>研究了半天终于搞清楚centos平台的可安装软件是 <strong>.rpm</strong> 后缀的，而不是 .deb 后缀的，基本上去网站上下载软件的时候都会提供这两个文件版本，选择正确的后缀名下载就好。</p><h3 id="关于镜像的问题"><a href="#关于镜像的问题" class="headerlink" title="关于镜像的问题"></a>关于镜像的问题</h3><p>受以前安装ubuntu的龟速软件下载的经验影响，我以为这个centos为了提速也一样会需要修改国内镜像之类的，还去改了网易的镜像地址。<br>结果好像镜像地址过期，搞的yum下载不了东东，只好改回原镜像。万万没想到，系统切换完语言重启之后，自动选择了国内的镜像地址（sina的），下载速度刚刚的。</p><h3 id="关于虚拟机卡、慢、假死问题"><a href="#关于虚拟机卡、慢、假死问题" class="headerlink" title="关于虚拟机卡、慢、假死问题"></a>关于虚拟机卡、慢、假死问题</h3><p>觉得奇怪，给虚拟机分配了<strong>50G硬盘</strong>、<strong>2G内存</strong>、<strong>2个处理器</strong>，结果还是开几个程序就卡死，尤其是在安装程序的时候死得更频繁。<br>后来假死的时候切换出来调win的任务管理器发现，原来是硬盘I&#x2F;O的处理速度跟不上。<br>vmware卡死的时候硬盘读写占用一直都是100%，遇到过几次这种情况，每次只能等啊等等到磁盘使用率过一段时间降下来之后，就能切换进虚拟机go on了。</p><span id="more"></span><h2 id="Google-Chrome"><a href="#Google-Chrome" class="headerlink" title="Google Chrome"></a>Google Chrome</h2><p>作为一个BD出品的FE，Chrome自然是心头爱，虽然centos自带firefox似乎也挺好用，但是chrome积累了好几年的config还是想同步过来。<br>安装chrome没有什么可说的，翻个墙去<a target="_blank" rel="noopener" href="http://www.google.cn/intl/zh-CN/chrome/browser/desktop/index.html">官网</a>下载 rpm 版本的软件安装上就能用。</p><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>代码都存在github上，自然少不了git安装。Centos上安装git很简单，一句命令立马搞定。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git</span><br></pre></td></tr></table></figure><p>可以再顺手装个<a target="_blank" rel="noopener" href="https://github.com/nvie/gitflow/wiki/Installation">gitflow</a>来增强git操作。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install gitflow</span><br></pre></td></tr></table></figure><h2 id="node-js"><a href="#node-js" class="headerlink" title="node.js"></a>node.js</h2><p>因为安装centos的主要目的就是想在更好的工具环境里面写博客和建设网站，博客和网站的工具环境都是nodejs，所以装node自然不必说。</p><ol><li><a target="_blank" rel="noopener" href="https://nodejs.org/">官网</a>tar包下载好</li><li>解压出 node-v0.12.1 目录， cd node-v0.12.1</li><li>运行命令<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li></ol><p>这些方法在网上都能搜到，问题不大。</p><h2 id="输入法和编辑器"><a href="#输入法和编辑器" class="headerlink" title="输入法和编辑器"></a>输入法和编辑器</h2><p>其实系统装好之后默认的拼音输入法是可以用的，虽然稍微有那么点点卡。但是，万万没想到，我们前端最中意的编辑器 sublime text 竟然不能输入中文。<br>去网上查相关资料，有说要安装google-pinyin的，然后我去尝试了，不知道什么原因没装上（yum里有记录但是语言输入源无法添加）。</p><p>更有甚者，我搜出来这样一篇文章：<a target="_blank" rel="noopener" href="http://www.csdn123.com/html/mycsdn20140110/61/61630f4872710aee1eb0dd860ff14f03.html">中文竟然需要这样输入我也是醉了</a><br>这篇的办法是，安装一个 <code>inputhelper</code> 插件，每次需要输入中文的时候，按ctrl+shift+z，弹出一个输入框，在输入框中输入中文后，按enter将中文插入到编辑区域。<br>这方法简直是变态啊，让人不忍吐槽。</p><p>无奈之下，还是寻求其他更适合的编辑器吧。正好前阵子看到&lt;atom.io&gt;上有一款 <strong>atom</strong> 编辑器，抱着尝试一下的心情试用了。<br>实践证明，这款编辑器可以输入中文，而且配置起来和sublime一样方便，只有一个问题就是markdown语法的识别不是特别好，总的来说在linux上开发值得推荐。</p><p>对了，因为我的博客是基于<a target="_blank" rel="noopener" href="http://hexo.io/">hexo</a>开发的，在atom上装了一个插件(markdown-writer)，看简介很厉害的样子，等我写几篇博试用一下先。</p><p>贴一份我的Atom配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">welcome:</span><br><span class="line">  showOnStartup: false</span><br><span class="line">core:</span><br><span class="line">  themes: [</span><br><span class="line">    &quot;one-light-ui&quot;</span><br><span class="line">    &quot;one-dark-syntax&quot;</span><br><span class="line">  ]</span><br><span class="line">editor:</span><br><span class="line">  &#x27;showInvisibles&#x27;: true</span><br><span class="line">  &#x27;showIndentGuide&#x27;: true</span><br><span class="line">  invisibles: &#123;&#125;</span><br><span class="line">  fontFamily: &quot;Yahei Consolas Hybrid&quot;</span><br><span class="line">  fontSize: 18</span><br><span class="line">  tabLength: 4</span><br><span class="line">  softWrap: true</span><br><span class="line">  softWrapAtPreferredLineLength: true</span><br><span class="line">  preferredLineLength: 120</span><br></pre></td></tr></table></figure><h2 id="Nginx-PHP"><a href="#Nginx-PHP" class="headerlink" title="Nginx+PHP"></a>Nginx+PHP</h2><p>要搭建服务器必备工具。</p><h3 id="EPEL-软件仓库"><a href="#EPEL-软件仓库" class="headerlink" title="EPEL 软件仓库"></a>EPEL 软件仓库</h3><p>EPEL（<a target="_blank" rel="noopener" href="http://fedoraproject.org/wiki/EPEL%EF%BC%89">http://fedoraproject.org/wiki/EPEL）</a> 是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL，就像在 Fedora 上一样，可以通过 yum install package-name，随意安装软件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://download.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm</span><br></pre></td></tr></table></figure><p>可在下面链接里寻找:<a target="_blank" rel="noopener" href="http://fedoraproject.org/wiki/EPEL/FAQ#howtouse">http://fedoraproject.org/wiki/EPEL/FAQ#howtouse</a></p><p>安装完毕之后，即可使用 yum 来安装软件，比如 git：<code>yum install git</code> ,<br>若要查看 EPEL Repo 中是否存在某个软件包： <code>yum search package-name</code></p><h3 id="安装nginx-php-mysql"><a href="#安装nginx-php-mysql" class="headerlink" title="安装nginx+php+mysql"></a>安装nginx+php+mysql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install nginx mysql-server php-fpm php-cli php-pdo php-mysql php-mcrypt php-mbstring php-gd php-tidy php-xml php-xmlrpc php-pear php-pecl-memcache php-eaccelerator</span><br></pre></td></tr></table></figure><p>mysql-server这个包没装上&#x3D; &#x3D;</p><h3 id="开机启动"><a href="#开机启动" class="headerlink" title="开机启动"></a>开机启动</h3><p>开机启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --level 345 mysqld on  </span><br><span class="line">chkconfig --level 345 php-fpm on  </span><br><span class="line">chkconfig --level 345 nginx on</span><br></pre></td></tr></table></figure><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><ul><li>&#x2F;etc&#x2F;nginx&#x2F;nginx.conf</li><li>&#x2F;etc&#x2F;nginx&#x2F;fastcgi_params</li><li>&#x2F;etc&#x2F;php-fpm.conf</li></ul><h3 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h3><p>启动命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br><span class="line">php-fpm</span><br></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>git alias配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.l   &quot;log --color --graph --decorate --pretty=oneline --abbrev-commit&quot;</span><br><span class="line">git config --global alias.l0  &quot;log --color --graph --decorate --pretty=oneline --abbrev-commit -U0&quot;</span><br><span class="line">git config --global alias.la  &quot;log --color --graph --decorate --pretty=oneline --abbrev-commit --all&quot;</span><br><span class="line">git config --global alias.lb  &quot;log --color --graph --decorate --pretty=oneline --abbrev-commit --all --simplify-by-decoration&quot;</span><br><span class="line">git config --global alias.lg  &quot;log --color --graph --decorate&quot;</span><br><span class="line">git config --global alias.dl   &quot;log --date-order --color --graph --decorate --pretty=oneline --abbrev-commit&quot;</span><br><span class="line">git config --global alias.dla  &quot;log --date-order --color --graph --decorate --pretty=oneline --abbrev-commit --all&quot;</span><br><span class="line">git config --global alias.dlb  &quot;log --date-order --color --graph --decorate --pretty=oneline --abbrev-commit --all --simplify-by-decoration&quot;</span><br><span class="line">git config --global alias.dlg  &quot;log --date-order --color --graph --decorate&quot;</span><br><span class="line">git config --global alias.d   &quot;diff --color&quot;</span><br><span class="line">git config --global alias.dc  &quot;diff --color --cached&quot;</span><br><span class="line">git config --global alias.d0  &quot;diff --color --unified=0&quot;</span><br><span class="line"></span><br><span class="line">git config --global alias.ci  &quot;commit --verbose&quot;</span><br><span class="line">git config --global alias.co  &quot;checkout&quot;</span><br><span class="line">git config --global alias.tr  &quot;checkout --track&quot;</span><br><span class="line">git config --global alias.s   &quot;status --short&quot;</span><br><span class="line">git config --global alias.st  &quot;status&quot;</span><br></pre></td></tr></table></figure></div><footer><div class="categories"><a href="/categories/whatever/">whatever</a></div><div class="tags"><a href="/tags/linux/">linux</a></div><div class="post-copyright"><div class="author"><b>本文作者： </b><span>Virola</span></div><div class="link"><b>本文链接： </b><a href="http://www.zhuyuwei.cn/2015/centos-7-installation.html" target="_blank">http://www.zhuyuwei.cn/2015/centos-7-installation.html</a></div><div class="copyright"><b>版权声明： </b>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 </a>许可协议。转载请注明出处！</div></div><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a></a></div><script>with(window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"0",bdSize:"32"},share:{}},document)(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)</script><div class="clearfix"></div></footer></div></article><section id="comment"></section></div></div><aside id="sidebar" class="alignright"><div class="search"><form action="//google.com/search" method="get" accept-charset="utf-8"><input type="search" name="q" results="0" placeholder="搜索"> <input type="hidden" name="q" value="site:www.zhuyuwei.cn"></form></div><div class="widget tag"><h3 class="title">分类</h3><ul class="entry"><li><a href="/categories/linux/">linux</a><small>3</small></li><li><a href="/categories/photo/">photo</a><small>1</small></li><li><a href="/categories/tips/">tips</a><small>1</small></li><li><a href="/categories/vps/">vps</a><small>2</small></li><li><a href="/categories/whatever/">whatever</a><small>9</small></li><li><a href="/categories/前端/">前端</a><small>13</small></li><li><a href="/categories/后端/">后端</a><small>2</small></li></ul></div><div class="widget tag"><h3 class="title">标签</h3><ul class="entry"><li><a href="/tags/VPS/">VPS</a><small>1</small></li><li><a href="/tags/angular/">angular</a><small>1</small></li><li><a href="/tags/docker/">docker</a><small>1</small></li><li><a href="/tags/git/">git</a><small>1</small></li><li><a href="/tags/github/">github</a><small>1</small></li><li><a href="/tags/gulp/">gulp</a><small>1</small></li><li><a href="/tags/java/">java</a><small>1</small></li><li><a href="/tags/jenkins/">jenkins</a><small>1</small></li><li><a href="/tags/linux/">linux</a><small>4</small></li><li><a href="/tags/mac/">mac</a><small>1</small></li><li><a href="/tags/mina/">mina</a><small>1</small></li><li><a href="/tags/mysql/">mysql</a><small>2</small></li><li><a href="/tags/nestjs/">nestjs</a><small>1</small></li><li><a href="/tags/nodejs/">nodejs</a><small>6</small></li><li><a href="/tags/phantomjs/">phantomjs</a><small>1</small></li><li><a href="/tags/photo/">photo</a><small>1</small></li><li><a href="/tags/ruby-on-rails/">ruby on rails</a><small>2</small></li><li><a href="/tags/serverless/">serverless</a><small>1</small></li><li><a href="/tags/shell/">shell</a><small>1</small></li><li><a href="/tags/travel/">travel</a><small>1</small></li><li><a href="/tags/travis/">travis</a><small>1</small></li><li><a href="/tags/vps/">vps</a><small>2</small></li><li><a href="/tags/vue/">vue</a><small>4</small></li><li><a href="/tags/web/">web</a><small>1</small></li><li><a href="/tags/whatever/">whatever</a><small>4</small></li><li><a href="/tags/发发牢骚/">发发牢骚</a><small>1</small></li></ul></div></aside><div class="clearfix"></div></div><footer id="footer" class="inner"><p class="links"><a href="/">Home</a> <a target="_blank" rel="noopener" href="https://github.com/virola/blog">Github</a> <a target="_blank" rel="noopener" href="http://virola-eko.com">VirolaEko</a></p><div class="alignleft">&copy; 2022 Virola</div><div class="clearfix"></div></footer><script src="//s1.bdstatic.com/r/www/cache/static/jquery/jquery-1.10.2.min_f2fb5194.js"></script><script src="/js/jquery.imagesloaded.min.js"></script><script src="/js/gallery.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen"><script src="/fancybox/jquery.fancybox.pack.js"></script><script>jQuery(".fancybox").fancybox()</script><a id="return-top" href="#"><i class="icon-arrow-up"></i></a><script>$(function(){var n=$("#return-top").hide();$(window).on("scroll",function(){200<$(window).scrollTop()?n.fadeIn():n.fadeOut()}),n.on("click",function(){return $("html,body").animate({scrollTop:0}),!1})})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b1e207e5306b2425b9d1d7a374e10afd";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>